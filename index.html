<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Robot Vision - Hough Transform</title>

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/ntnuerc.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <script src="https://daybrush.com/scenejs/release/latest/dist/scene.min.js"></script>
		
        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>
        <script src="js/ntnu.js"></script>
    </head>
    <body>
        <div class="reveal">
        <div class="slides">
            
<section id="start" data-state="start">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1> Robot Vision - Hough Transform</h1>

   <div class="author" style="text-align:center;">
    
<p>
      Jacky Baltes<br>
      National Taiwan Normal University<br>
      Taipei, Taiwan<br>
      <a href="mailto:jacky.baltes@ntnu.edu.tw">jacky.baltes@ntnu.edu.tw</a><br>
</p>

   </div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-d3d39bac-5ab8-429f-9cbf-5167245aab90" ><span id="id-d3d39bac-5ab8-429f-9cbf-5167245aab90"><img id="img-id-d3d39bac-5ab8-429f-9cbf-5167245aab90"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-b65e6b40-a58a-4f90-9f26-582839539880" ><span id="id-b65e6b40-a58a-4f90-9f26-582839539880"><img id="img-id-b65e6b40-a58a-4f90-9f26-582839539880" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="introduction" data-state="introduction">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">
<div class="document" id="hough-transform">
<h1 class="title">Hough Transform</h1>
<ul class="simple">
<li>The Hough Transform is a methodology and algorithm to find complex shapes inside of an image</li>
<li>It is applied to the output of edge detectors or other feature detectors</li>
<li>It's most popular use is in detecting lines and line segments</li>
</ul>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-8b469032-3903-4ab5-beae-01ec49b67c2c" ><span id="id-8b469032-3903-4ab5-beae-01ec49b67c2c"><img id="img-id-8b469032-3903-4ab5-beae-01ec49b67c2c"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-b7254133-908d-40f0-bbd5-447f0a2d4b78" ><span id="id-b7254133-908d-40f0-bbd5-447f0a2d4b78"><img id="img-id-b7254133-908d-40f0-bbd5-447f0a2d4b78" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00004_frag_00001" data-state="slide_00004_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>url <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;https://i.postimg.cc/3rBpv96M/image.png&#39;</span>
img <span style="color: #666666">=</span> io<span style="color: #666666">.</span>imread( url )
img <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>resize(img, (<span style="color: #666666">640</span>, <span style="color: #666666">480</span> ) )

fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure( dpi <span style="color: #666666">=</span> <span style="color: #666666">300</span> )
ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">1</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Original Image&#39;</span>)

ax1<span style="color: #666666">.</span>imshow(img, interpolation <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;bicubic&#39;</span>)
ax1<span style="color: #666666">.</span>set_xticks([])
ax1<span style="color: #666666">.</span>set_yticks([])  

img_ <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;orig&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-2d24a4e6-b610-45d6-92e1-3cd889eadfe5" ><span id="id-2d24a4e6-b610-45d6-92e1-3cd889eadfe5"><img id="img-id-2d24a4e6-b610-45d6-92e1-3cd889eadfe5"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-ed7ec3e8-cd21-46dd-bd87-b66d9ffea4e5" ><span id="id-ed7ec3e8-cd21-46dd-bd87-b66d9ffea4e5"><img id="img-id-ed7ec3e8-cd21-46dd-bd87-b66d9ffea4e5" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00005_frag_00001" data-state="slide_00005_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<span id="id-e2059865-07d3-4fa3-83b3-7b7c3ca1f97d" ><span id="id-e2059865-07d3-4fa3-83b3-7b7c3ca1f97d"><img id="img-id-e2059865-07d3-4fa3-83b3-7b7c3ca1f97d"     src="assets/images/orig.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-88f62701-a368-4cb0-b06e-cb7940808682" ><span id="id-88f62701-a368-4cb0-b06e-cb7940808682"><img id="img-id-88f62701-a368-4cb0-b06e-cb7940808682"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-b91e7c05-2409-4432-9900-dab09bfb5cb2" ><span id="id-b91e7c05-2409-4432-9900-dab09bfb5cb2"><img id="img-id-b91e7c05-2409-4432-9900-dab09bfb5cb2" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00006_frag_00001" data-state="slide_00006_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>kernel <span style="color: #666666">=</span> <span style="color: #666666">5</span> <span style="color: #408080; font-style: italic">#@param [&quot;3&quot;, &quot;5&quot;, &quot;7&quot;, &quot;9&quot;, &quot;11&quot;] {type:&quot;raw&quot;}</span>
fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure( dpi<span style="color: #666666">=300</span> )
ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">3</span>,<span style="color: #666666">2</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Original Image&#39;</span>)

ax1<span style="color: #666666">.</span>imshow(img, interpolation <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;bicubic&#39;</span>)
ax1<span style="color: #666666">.</span>set_xticks([])
ax1<span style="color: #666666">.</span>set_yticks([])  

gray <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>cvtColor( img,  cv2<span style="color: #666666">.</span>COLOR_RGB2GRAY );

ax2 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">3</span>,<span style="color: #666666">2</span>,<span style="color: #666666">2</span>)
ax2<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Converted to Gray&#39;</span>)
ax2<span style="color: #666666">.</span>imshow(gray, cmap <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;gray&#39;</span>)
ax2<span style="color: #666666">.</span>set_xticks([])
ax2<span style="color: #666666">.</span>set_yticks([])

sobelX <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>Sobel( gray, cv2<span style="color: #666666">.</span>CV_32F, <span style="color: #666666">1</span>, <span style="color: #666666">0</span>, ksize<span style="color: #666666">=</span> kernel)

sobelX <span style="color: #666666">=</span> np<span style="color: #666666">.</span>abs(sobelX)
sobelX <span style="color: #666666">=</span> sobelX <span style="color: #666666">/</span> np<span style="color: #666666">.</span>max(sobelX)

ax3 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">3</span>,<span style="color: #666666">2</span>,<span style="color: #666666">3</span>)
ax3<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Sobel X (kernel </span><span style="color: #BB6688; font-weight: bold">{}</span><span style="color: #BA2121">)&#39;</span><span style="color: #666666">.</span>format(kernel))
ax3<span style="color: #666666">.</span>set_xticks([])
ax3<span style="color: #666666">.</span>set_yticks([])

ax3<span style="color: #666666">.</span>imshow(sobelX, cmap <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;gray&#39;</span>)

sobelY <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>Sobel( gray, cv2<span style="color: #666666">.</span>CV_64F, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, ksize<span style="color: #666666">=</span> kernel)
sobelY <span style="color: #666666">=</span> np<span style="color: #666666">.</span>abs(sobelY)
sobelY <span style="color: #666666">=</span> sobelY <span style="color: #666666">/</span> np<span style="color: #666666">.</span>max(sobelY)

ax4 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">3</span>,<span style="color: #666666">2</span>,<span style="color: #666666">4</span>)
ax4<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Sobel Y (kernel </span><span style="color: #BB6688; font-weight: bold">{}</span><span style="color: #BA2121">)&#39;</span><span style="color: #666666">.</span>format(kernel))
ax4<span style="color: #666666">.</span>set_xticks([])
ax4<span style="color: #666666">.</span>set_yticks([])

ax4<span style="color: #666666">.</span>imshow(sobelY, cmap <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;gray&#39;</span>)

laplacian <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>Laplacian( gray, cv2<span style="color: #666666">.</span>CV_32F )
laplacian <span style="color: #666666">=</span> np<span style="color: #666666">.</span>abs(laplacian)
laplacian <span style="color: #666666">=</span> laplacian <span style="color: #666666">/</span> np<span style="color: #666666">.</span>max( laplacian )

ax5 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot( <span style="color: #666666">3</span>, <span style="color: #666666">2</span>, <span style="color: #666666">5</span> )
ax5<span style="color: #666666">.</span>set_title( <span style="color: #BA2121">&#39;Laplacian&#39;</span>)
ax5<span style="color: #666666">.</span>set_xticks([])
ax5<span style="color: #666666">.</span>set_yticks([])

ax5<span style="color: #666666">.</span>imshow( laplacian, cmap <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;gray&#39;</span>)

canny <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>Canny( gray, <span style="color: #666666">50</span>, <span style="color: #666666">300</span> )
ax6 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">3</span>,<span style="color: #666666">2</span>,<span style="color: #666666">6</span>)
ax6<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Canny&#39;</span>)
ax6<span style="color: #666666">.</span>set_xticks([])
ax6<span style="color: #666666">.</span>set_yticks([])

ax6<span style="color: #666666">.</span>imshow( canny, cmap <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;gray&#39;</span>)
img_ <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;edge&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-d5554560-a9df-4bc7-b252-8aba2a742310" ><span id="id-d5554560-a9df-4bc7-b252-8aba2a742310"><img id="img-id-d5554560-a9df-4bc7-b252-8aba2a742310"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-3fe7fa5d-597e-41dc-8487-c2baa950e203" ><span id="id-3fe7fa5d-597e-41dc-8487-c2baa950e203"><img id="img-id-3fe7fa5d-597e-41dc-8487-c2baa950e203" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00007_frag_00001" data-state="slide_00007_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Edge Detection</h1>

<span id="id-b3f71463-ac68-4cc1-883c-a2e4212069be" ><span id="id-b3f71463-ac68-4cc1-883c-a2e4212069be"><img id="img-id-b3f71463-ac68-4cc1-883c-a2e4212069be"     src="assets/images/edge.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-5acb1196-d52f-4152-af6f-6e0e20b7d476" ><span id="id-5acb1196-d52f-4152-af6f-6e0e20b7d476"><img id="img-id-5acb1196-d52f-4152-af6f-6e0e20b7d476"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-85d59de3-61a2-4ece-a9b0-595d41464634" ><span id="id-85d59de3-61a2-4ece-a9b0-595d41464634"><img id="img-id-85d59de3-61a2-4ece-a9b0-595d41464634" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00008_frag_00001" data-state="slide_00008_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">
<div class="document" id="hough-lines-motivation">
<h1 class="title">Hough Lines Motivation</h1>
<ul class="simple">
<li>Initially, Hough developed the Hough transform to deal with the problem of detecting
lines in an image.</li>
<li>To reason about lines in images requires reasoning about collections of pixels.
To form a particular shape, the pixels need to be arranged in such a way, that they form the shape.
The output of the procedure is a line.</li>
</ul>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-6b9cd93e-aaa1-4e30-b427-90253702ae4a" ><span id="id-6b9cd93e-aaa1-4e30-b427-90253702ae4a"><img id="img-id-6b9cd93e-aaa1-4e30-b427-90253702ae4a"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-31f2c89f-3cbf-49a7-87a7-c4c1687f1906" ><span id="id-31f2c89f-3cbf-49a7-87a7-c4c1687f1906"><img id="img-id-31f2c89f-3cbf-49a7-87a7-c4c1687f1906" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00009_frag_00001" data-state="slide_00009_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">
<div class="document">
<ul>
<li><p class="first">A line can be represented in many different ways. Representing a line as an array of pixels is a
cumbersome and inefficient approach. Instead, mathematically lines are often represented by a slope and
line intercept (slope-intercept format).</p>
<blockquote>
<p>y=ax+b</p>
</blockquote>
</li>
<li><p class="first">The brilliant insight by Hough in 1959, was to realize that a collection of
points can be converted to the mathematical representation by converting each
pixel into the Hough space, that is the space of parameters that map to a line.</p>
</li>
</ul>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-cc7189ee-406a-4cd5-8e28-0d8c1f48b831" ><span id="id-cc7189ee-406a-4cd5-8e28-0d8c1f48b831"><img id="img-id-cc7189ee-406a-4cd5-8e28-0d8c1f48b831"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-703e0121-59d0-40e3-ace8-463099cd91e9" ><span id="id-703e0121-59d0-40e3-ace8-463099cd91e9"><img id="img-id-703e0121-59d0-40e3-ace8-463099cd91e9" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00010_frag_00001" data-state="slide_00010_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">
<div class="document">
<div class="jb-text docutils container">
<ul>
<li><p class="first">Given an edge pixel at position  (xp,yp) , we assume that this pixel is part
of a line. So we know that</p>
<blockquote>
<p>yp=a∗xp+b</p>
</blockquote>
<p>for some line parameters  a  (slope) and  b  (line intercept, that is the point
where the line intersects with the vertical line  x=0 ).</p>
</li>
<li><p class="first">Assume that we know that the slope of the line a, then we can calculate what the
line intercept of the line  b  must be, given that a point  xp , yp  is on that line with slope a.</p>
<blockquote>
<p>b=−a∗xp+yp</p>
</blockquote>
</li>
</ul>
<p>The equation above is the equation for a line in the Hough space with slope  −xp
and line intercept  yp .</p>
</div>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-83fe5eeb-a0a1-429a-ac3f-fa169908528a" ><span id="id-83fe5eeb-a0a1-429a-ac3f-fa169908528a"><img id="img-id-83fe5eeb-a0a1-429a-ac3f-fa169908528a"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-0aecac61-e639-4588-b36b-0eaee190b966" ><span id="id-0aecac61-e639-4588-b36b-0eaee190b966"><img id="img-id-0aecac61-e639-4588-b36b-0eaee190b966" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00011_frag_00001" data-state="slide_00011_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div style="font-size:0.5em"><!-- start of style="font-size:0.5em" -->
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>p1 <span style="color: #666666">=</span> [<span style="color: #666666">4</span>, <span style="color: #666666">5</span>] <span style="color: #408080; font-style: italic">#@param {type:&quot;raw&quot;}</span>

p1 <span style="color: #666666">=</span> np<span style="color: #666666">.</span>array(p1)

fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure()

ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;XY Space&#39;</span>)
ax1<span style="color: #666666">.</span>set_xlim((<span style="color: #666666">0</span>,<span style="color: #666666">10</span>))
ax1<span style="color: #666666">.</span>set_ylim((<span style="color: #666666">0</span>,<span style="color: #666666">10</span>))
ax1<span style="color: #666666">.</span>set_xlabel(<span style="color: #BA2121">&#39;x&#39;</span>)
ax1<span style="color: #666666">.</span>set_ylabel(<span style="color: #BA2121">&#39;y&#39;</span>)

offset <span style="color: #666666">=</span> np<span style="color: #666666">.</span>array([<span style="color: #666666">1.5</span>,<span style="color: #666666">1</span>])

ax1<span style="color: #666666">.</span>plot(p1[<span style="color: #666666">0</span>], p1[<span style="color: #666666">1</span>], <span style="color: #BA2121">&#39;b.&#39;</span>, markersize<span style="color: #666666">=20</span>)
ax1<span style="color: #666666">.</span>annotate(<span style="color: #BA2121">&#39;p1&#39;</span>, xy <span style="color: #666666">=</span> p1, xytext<span style="color: #666666">=</span>p1<span style="color: #666666">+</span>offset, arrowprops<span style="color: #666666">=</span><span style="color: #008000">dict</span>(facecolor<span style="color: #666666">=</span><span style="color: #BA2121">&#39;black&#39;</span>, shrink<span style="color: #666666">=0.1</span>))

ax2 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">2</span>)
ax2<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Hough Space&#39;</span>)
ax2<span style="color: #666666">.</span>set_xlabel(<span style="color: #BA2121">&#39;a&#39;</span>)
ax2<span style="color: #666666">.</span>set_ylabel(<span style="color: #BA2121">&#39;b&#39;</span>)

hmin <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>
hmax <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>

linestyles<span style="color: #666666">=</span>[<span style="color: #BA2121">&#39;b-&#39;</span>, <span style="color: #BA2121">&#39;r--&#39;</span>, <span style="color: #BA2121">&#39;g-.&#39;</span>]
points <span style="color: #666666">=</span> [ [<span style="color: #666666">0</span>,<span style="color: #666666">2</span>], [<span style="color: #666666">0</span>,<span style="color: #666666">4</span>], [<span style="color: #666666">0</span>,<span style="color: #666666">8</span>] ]
<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( <span style="color: #008000">len</span>(points) ):
  x1,y1 <span style="color: #666666">=</span> points[i]
  pL1 <span style="color: #666666">=</span> np<span style="color: #666666">.</span>array([x1,y1])
  d <span style="color: #666666">=</span> p1 <span style="color: #666666">-</span> pL1
  pL2 <span style="color: #666666">=</span> pL1 <span style="color: #666666">+</span> d <span style="color: #666666">*</span> <span style="color: #666666">10</span>
  <span style="color: #408080; font-style: italic">#print(pL1, pL2, d)</span>
  a1 <span style="color: #666666">=</span> d[<span style="color: #666666">1</span>]<span style="color: #666666">/</span>d[<span style="color: #666666">0</span>]
  b1 <span style="color: #666666">=</span> y1
  <span style="color: #008000; font-weight: bold">if</span> ( hmin <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">or</span> ( a1 <span style="color: #666666">&lt;</span> hmin[<span style="color: #666666">0</span>]):
    hmin <span style="color: #666666">=</span> [ a1, b1 ]
  <span style="color: #008000; font-weight: bold">if</span> ( hmax <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">or</span> ( a1 <span style="color: #666666">&gt;</span> hmin[<span style="color: #666666">0</span>] ):
    hmax <span style="color: #666666">=</span> [a1, b1 ]
  ax1<span style="color: #666666">.</span>plot( [pL1[<span style="color: #666666">0</span>], pL2[<span style="color: #666666">0</span>]], [ pL1[<span style="color: #666666">1</span>], pL2[<span style="color: #666666">1</span>] ], linestyles[i], label <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;y = </span><span style="color: #BB6688; font-weight: bold">{0:5.2f}</span><span style="color: #BA2121">x + </span><span style="color: #BB6688; font-weight: bold">{1:5.2f}</span><span style="color: #BA2121">&quot;</span><span style="color: #666666">.</span>format(a1, b1) )
  ax2<span style="color: #666666">.</span>plot( [a1], [b1], linestyles[i][<span style="color: #666666">0</span>]<span style="color: #666666">+</span><span style="color: #BA2121">&#39;.&#39;</span>, markersize<span style="color: #666666">=20</span>)

<span style="color: #008000; font-weight: bold">if</span> ( hmin <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">and</span> ( hmax <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> ):
  ax2<span style="color: #666666">.</span>plot([hmin[<span style="color: #666666">0</span>], hmax[<span style="color: #666666">0</span>]], [hmin[<span style="color: #666666">1</span>], hmax[<span style="color: #666666">1</span>]], <span style="color: #BA2121">&#39;k-&#39;</span>)
ax1<span style="color: #666666">.</span>legend()
<span style="color: #408080; font-style: italic">#ax2.legend()</span>

h1 <span style="color: #666666">=</span> addJBFigure( <span style="color: #BA2121">&quot;h1&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of style="font-size:0.5em" -->
</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-37879be6-b7f1-4bf8-a97f-1e4f15dac4ca" ><span id="id-37879be6-b7f1-4bf8-a97f-1e4f15dac4ca"><img id="img-id-37879be6-b7f1-4bf8-a97f-1e4f15dac4ca"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-67206728-4074-46b4-a167-03d38b95f71b" ><span id="id-67206728-4074-46b4-a167-03d38b95f71b"><img id="img-id-67206728-4074-46b4-a167-03d38b95f71b" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00012_frag_00001" data-state="slide_00012_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Hough Example</h1>

<span id="id-fea8e941-e689-4ec8-99c0-e4a9c27dec9d" ><span id="id-fea8e941-e689-4ec8-99c0-e4a9c27dec9d"><img id="img-id-fea8e941-e689-4ec8-99c0-e4a9c27dec9d"     src="assets/images/h1.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-5bd3fc12-02fa-476e-ac7c-21b415070091" ><span id="id-5bd3fc12-02fa-476e-ac7c-21b415070091"><img id="img-id-5bd3fc12-02fa-476e-ac7c-21b415070091"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-d2a71096-6453-49d6-8eaf-667a2bfae9b6" ><span id="id-d2a71096-6453-49d6-8eaf-667a2bfae9b6"><img id="img-id-d2a71096-6453-49d6-8eaf-667a2bfae9b6" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00013_frag_00001" data-state="slide_00013_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">
<div class="document">
<ul class="simple">
<li>As shown in the figure above, all possible lines through a point  p1  result
in a line in the Hough space.</li>
<li>If we now add another point  p2 , then all possible lines through that point
will result in a different line in the Hough space.</li>
<li>The intersection of those two lines will give us a point in the Hough space,
which corresponds to the line that goes through both points  p1 and  p2 .</li>
</ul>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-99b49efe-dfca-44a1-b684-6728c168739d" ><span id="id-99b49efe-dfca-44a1-b684-6728c168739d"><img id="img-id-99b49efe-dfca-44a1-b684-6728c168739d"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-b373ff43-0a6e-431d-872b-6e589f145a1d" ><span id="id-b373ff43-0a6e-431d-872b-6e589f145a1d"><img id="img-id-b373ff43-0a6e-431d-872b-6e589f145a1d" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00014_frag_00001" data-state="slide_00014_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div style="font-size:0.5em"><!-- start of style="font-size:0.5em" -->
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>p1 <span style="color: #666666">=</span> [<span style="color: #666666">3</span>, <span style="color: #666666">5</span>] <span style="color: #408080; font-style: italic">#@param {type:&quot;raw&quot;}</span>
p2 <span style="color: #666666">=</span> [<span style="color: #666666">5</span>, <span style="color: #666666">4</span>] <span style="color: #408080; font-style: italic">#@param {type:&quot;raw&quot;}</span>

p1 <span style="color: #666666">=</span> np<span style="color: #666666">.</span>array(p1)
p2 <span style="color: #666666">=</span> np<span style="color: #666666">.</span>array(p2)

fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure()

ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;XY Space&#39;</span>)
ax1<span style="color: #666666">.</span>set_xlim((<span style="color: #666666">0</span>,<span style="color: #666666">10</span>))
ax1<span style="color: #666666">.</span>set_ylim((<span style="color: #666666">0</span>,<span style="color: #666666">10</span>))
ax1<span style="color: #666666">.</span>set_xlabel(<span style="color: #BA2121">&#39;x&#39;</span>)
ax1<span style="color: #666666">.</span>set_ylabel(<span style="color: #BA2121">&#39;y&#39;</span>)

offset <span style="color: #666666">=</span> np<span style="color: #666666">.</span>array([<span style="color: #666666">1.5</span>,<span style="color: #666666">1</span>])

ax1<span style="color: #666666">.</span>plot(p1[<span style="color: #666666">0</span>], p1[<span style="color: #666666">1</span>], <span style="color: #BA2121">&#39;b.&#39;</span>, markersize<span style="color: #666666">=20</span>)
ax1<span style="color: #666666">.</span>annotate(<span style="color: #BA2121">&#39;p1&#39;</span>, xy <span style="color: #666666">=</span> p1, xytext<span style="color: #666666">=</span>p1<span style="color: #666666">+</span>offset, arrowprops<span style="color: #666666">=</span><span style="color: #008000">dict</span>(facecolor<span style="color: #666666">=</span><span style="color: #BA2121">&#39;black&#39;</span>, shrink<span style="color: #666666">=0.1</span>))
ax1<span style="color: #666666">.</span>plot(p2[<span style="color: #666666">0</span>], p2[<span style="color: #666666">1</span>], <span style="color: #BA2121">&#39;b.&#39;</span>, markersize<span style="color: #666666">=20</span>)
ax1<span style="color: #666666">.</span>annotate(<span style="color: #BA2121">&#39;p2&#39;</span>, xy <span style="color: #666666">=</span> p2, xytext<span style="color: #666666">=</span>p2<span style="color: #666666">+</span>offset, arrowprops<span style="color: #666666">=</span><span style="color: #008000">dict</span>(facecolor<span style="color: #666666">=</span><span style="color: #BA2121">&#39;black&#39;</span>, shrink<span style="color: #666666">=0.1</span>))

ax2 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">2</span>)
ax2<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Hough Space&#39;</span>)
ax2<span style="color: #666666">.</span>set_xlabel(<span style="color: #BA2121">&#39;a&#39;</span>)
ax2<span style="color: #666666">.</span>set_ylabel(<span style="color: #BA2121">&#39;b&#39;</span>)

hmin <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>
hmax <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>

linestyles<span style="color: #666666">=</span>[<span style="color: #BA2121">&#39;b-&#39;</span>, <span style="color: #BA2121">&#39;r--&#39;</span>, <span style="color: #BA2121">&#39;g-.&#39;</span>]
points <span style="color: #666666">=</span> [ [<span style="color: #666666">0</span>,<span style="color: #666666">2</span>], [<span style="color: #666666">0</span>,<span style="color: #666666">4</span>], [<span style="color: #666666">0</span>,<span style="color: #666666">8</span>] ]
<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( <span style="color: #008000">len</span>(points) ):
  x1,y1 <span style="color: #666666">=</span> points[i]
  pL1 <span style="color: #666666">=</span> np<span style="color: #666666">.</span>array([x1,y1])
  d <span style="color: #666666">=</span> p1 <span style="color: #666666">-</span> pL1
  pL2 <span style="color: #666666">=</span> pL1 <span style="color: #666666">+</span> d <span style="color: #666666">*</span> <span style="color: #666666">10</span>
  <span style="color: #408080; font-style: italic">#print(pL1, pL2, d)</span>
  a1 <span style="color: #666666">=</span> d[<span style="color: #666666">1</span>]<span style="color: #666666">/</span>d[<span style="color: #666666">0</span>]
  b1 <span style="color: #666666">=</span> y1
  <span style="color: #008000; font-weight: bold">if</span> ( hmin <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">or</span> ( a1 <span style="color: #666666">&lt;</span> hmin[<span style="color: #666666">0</span>]):
    hmin <span style="color: #666666">=</span> [ a1, b1 ]
  <span style="color: #008000; font-weight: bold">if</span> ( hmax <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">or</span> ( a1 <span style="color: #666666">&gt;</span> hmin[<span style="color: #666666">0</span>] ):
    hmax <span style="color: #666666">=</span> [a1, b1 ]
  ax1<span style="color: #666666">.</span>plot( [pL1[<span style="color: #666666">0</span>], pL2[<span style="color: #666666">0</span>]], [ pL1[<span style="color: #666666">1</span>], pL2[<span style="color: #666666">1</span>] ], linestyles[i], label <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;y = </span><span style="color: #BB6688; font-weight: bold">{0:5.2f}</span><span style="color: #BA2121">x + </span><span style="color: #BB6688; font-weight: bold">{1:5.2f}</span><span style="color: #BA2121">&quot;</span><span style="color: #666666">.</span>format(a1, b1) )
  ax2<span style="color: #666666">.</span>plot( [a1], [b1], linestyles[i][<span style="color: #666666">0</span>]<span style="color: #666666">+</span><span style="color: #BA2121">&#39;.&#39;</span>, markersize<span style="color: #666666">=20</span>)

<span style="color: #008000; font-weight: bold">if</span> ( hmin <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">and</span> ( hmax <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> ):
  ax2<span style="color: #666666">.</span>plot([hmin[<span style="color: #666666">0</span>], hmax[<span style="color: #666666">0</span>]], [hmin[<span style="color: #666666">1</span>], hmax[<span style="color: #666666">1</span>]], <span style="color: #BA2121">&#39;k-&#39;</span>)

linestyles<span style="color: #666666">=</span>[<span style="color: #BA2121">&#39;b:&#39;</span>, <span style="color: #BA2121">&#39;r-&#39;</span>, <span style="color: #BA2121">&#39;g-.&#39;</span>]
points <span style="color: #666666">=</span> [ [<span style="color: #666666">0</span>,<span style="color: #666666">3</span>], [<span style="color: #666666">0</span>,<span style="color: #666666">5</span>], [<span style="color: #666666">0</span>,<span style="color: #666666">10</span>] ]

hmin <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>
hmax <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>

<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( <span style="color: #008000">len</span>(points) ):
  x1,y1 <span style="color: #666666">=</span> points[i]
  pL1 <span style="color: #666666">=</span> np<span style="color: #666666">.</span>array([x1,y1])
  d <span style="color: #666666">=</span> p2 <span style="color: #666666">-</span> pL1
  pL2 <span style="color: #666666">=</span> pL1 <span style="color: #666666">+</span> d <span style="color: #666666">*</span> <span style="color: #666666">10</span>
  <span style="color: #408080; font-style: italic">#print(pL1, pL2, d)</span>
  a1 <span style="color: #666666">=</span> d[<span style="color: #666666">1</span>]<span style="color: #666666">/</span>d[<span style="color: #666666">0</span>]
  b1 <span style="color: #666666">=</span> y1
  <span style="color: #008000; font-weight: bold">if</span> ( hmin <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">or</span> ( a1 <span style="color: #666666">&lt;</span> hmin[<span style="color: #666666">0</span>]):
    hmin <span style="color: #666666">=</span> [ a1, b1 ]
  <span style="color: #008000; font-weight: bold">if</span> ( hmax <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">or</span> ( a1 <span style="color: #666666">&gt;</span> hmin[<span style="color: #666666">0</span>] ):
    hmax <span style="color: #666666">=</span> [a1, b1 ]
  ax1<span style="color: #666666">.</span>plot( [pL1[<span style="color: #666666">0</span>], pL2[<span style="color: #666666">0</span>]], [ pL1[<span style="color: #666666">1</span>], pL2[<span style="color: #666666">1</span>] ], linestyles[i], label <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;y = </span><span style="color: #BB6688; font-weight: bold">{0:5.2f}</span><span style="color: #BA2121">x + </span><span style="color: #BB6688; font-weight: bold">{1:5.2f}</span><span style="color: #BA2121">&quot;</span><span style="color: #666666">.</span>format(a1, b1) )
  ax2<span style="color: #666666">.</span>plot( [a1], [b1], linestyles[i][<span style="color: #666666">0</span>]<span style="color: #666666">+</span><span style="color: #BA2121">&#39;.&#39;</span>, markersize<span style="color: #666666">=20</span>)

<span style="color: #008000; font-weight: bold">if</span> ( hmin <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> ) <span style="color: #AA22FF; font-weight: bold">and</span> ( hmax <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> ):
  ax2<span style="color: #666666">.</span>plot([hmin[<span style="color: #666666">0</span>], hmax[<span style="color: #666666">0</span>]], [hmin[<span style="color: #666666">1</span>], hmax[<span style="color: #666666">1</span>]], <span style="color: #BA2121">&#39;k-&#39;</span>)
  
ax1<span style="color: #666666">.</span>legend()


<span style="color: #408080; font-style: italic">#ax2.legend()</span>

h2 <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;h2&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig)
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of style="font-size:0.5em" -->
</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-d4a0feec-0f6d-4c7c-bf8d-d02106526c11" ><span id="id-d4a0feec-0f6d-4c7c-bf8d-d02106526c11"><img id="img-id-d4a0feec-0f6d-4c7c-bf8d-d02106526c11"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-06fdf18d-01bf-4c29-8510-d0dd1daf525b" ><span id="id-06fdf18d-01bf-4c29-8510-d0dd1daf525b"><img id="img-id-06fdf18d-01bf-4c29-8510-d0dd1daf525b" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00015_frag_00001" data-state="slide_00015_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Hough Lines</h1>

<span id="id-5d5b0860-f0e5-4b00-bd95-c6e43a17aec3" ><span id="id-5d5b0860-f0e5-4b00-bd95-c6e43a17aec3"><img id="img-id-5d5b0860-f0e5-4b00-bd95-c6e43a17aec3"     src="assets/images/h2.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-a0c85bd2-7e53-46b8-b785-0815f340bac6" ><span id="id-a0c85bd2-7e53-46b8-b785-0815f340bac6"><img id="img-id-a0c85bd2-7e53-46b8-b785-0815f340bac6"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-0e5c2146-eb86-410e-8923-d03ff6acfbdb" ><span id="id-0e5c2146-eb86-410e-8923-d03ff6acfbdb"><img id="img-id-0e5c2146-eb86-410e-8923-d03ff6acfbdb" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00016_frag_00001" data-state="slide_00016_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">
<div class="document">
<ul class="simple">
<li>However, since there will be noise in the vision system, the various lines (one for each edge pixel)
in the Hough space will usually not intersect at exactly one point.</li>
<li>One solution to this problem would be to calculate the point that is closest
to all lines, or the point that minimizes the squared distance to all lines.</li>
<li>This approach does not work if there are multiple lines in an image.
In this case, there would be multiple intersection points and the point closest to
all of them is in general useless.</li>
</ul>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-c61b70b0-94d9-4b5a-b592-60f9717f9c20" ><span id="id-c61b70b0-94d9-4b5a-b592-60f9717f9c20"><img id="img-id-c61b70b0-94d9-4b5a-b592-60f9717f9c20"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-ec414373-f2a5-435c-84fa-69fecc84d0a4" ><span id="id-ec414373-f2a5-435c-84fa-69fecc84d0a4"><img id="img-id-ec414373-f2a5-435c-84fa-69fecc84d0a4" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00017_frag_00001" data-state="slide_00017_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">
<div class="document">
<ul class="simple">
<li>Hough overcame this problem by discretizing the Hough space and using an accumulator.
So the Hough space is a table of entries, which are initialized to 0.</li>
<li>For every edge pixel  e , the algorithm iterates through the discretization of  a
and calculates the corresponding parameters  b . The entry in the table for  a , b
is then incremented. One can interpret this, as an edge pixel voting for possible lines.</li>
<li>After all edge pixels have been processed, the Hough line algorithm returns the line
corresponding to the Hough table entry with the maximum number of votes.</li>
</ul>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-73040573-aee9-46d4-9b28-1aaabfaa081c" ><span id="id-73040573-aee9-46d4-9b28-1aaabfaa081c"><img id="img-id-73040573-aee9-46d4-9b28-1aaabfaa081c"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-03a08af6-94ec-41f4-b250-8497985c4cfb" ><span id="id-03a08af6-94ec-41f4-b250-8497985c4cfb"><img id="img-id-03a08af6-94ec-41f4-b250-8497985c4cfb" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00018_frag_00001" data-state="slide_00018_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Parametric equation for a line</h1>

<div class="jb-text">
<p>The slope-intercept form of the equation is a bad choice as accumulator parameter
since it ranges from 0 to \(\infty\)</p>

<p>Instead we use the following parameterization:</p>

\[
  \rho = \cos(\alpha)x + \sin(\alpha)y
\]
</div>

<span id="id-3f53ca82-f47b-41c3-8292-0065f01b302e" ><span id="id-3f53ca82-f47b-41c3-8292-0065f01b302e"><img id="img-id-3f53ca82-f47b-41c3-8292-0065f01b302e"     src="assets/images/r1.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-eb639659-253e-4d40-b29a-601a1aee95b5" ><span id="id-eb639659-253e-4d40-b29a-601a1aee95b5"><img id="img-id-eb639659-253e-4d40-b29a-601a1aee95b5"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-32c2a084-561c-45d6-b593-e41948fc3734" ><span id="id-32c2a084-561c-45d6-b593-e41948fc3734"><img id="img-id-32c2a084-561c-45d6-b593-e41948fc3734" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00019_frag_00001" data-state="slide_00019_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div style="font-size:0.5m"><!-- start of style="font-size:0.5m" -->
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>kernel <span style="color: #666666">=</span> <span style="color: #666666">7</span> <span style="color: #408080; font-style: italic">#@param [&quot;3&quot;, &quot;5&quot;, &quot;7&quot;, &quot;9&quot;, &quot;11&quot;] {type:&quot;raw&quot;}</span>
THRESHOLD <span style="color: #666666">=</span>  <span style="color: #666666">0.3</span><span style="color: #408080; font-style: italic">#@param</span>

gray <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>cvtColor( img,  cv2<span style="color: #666666">.</span>COLOR_RGB2GRAY );

sobelX <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>Sobel( gray, cv2<span style="color: #666666">.</span>CV_32F, <span style="color: #666666">1</span>, <span style="color: #666666">0</span>, ksize<span style="color: #666666">=</span> kernel)
sobelY <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>Sobel( gray, cv2<span style="color: #666666">.</span>CV_32F, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, ksize<span style="color: #666666">=</span> kernel)

edges <span style="color: #666666">=</span> np<span style="color: #666666">.</span>abs(sobelX) <span style="color: #666666">+</span> np<span style="color: #666666">.</span>abs(sobelY)
edges <span style="color: #666666">=</span> edges <span style="color: #666666">/</span> np<span style="color: #666666">.</span>max(edges)

fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure( figsize<span style="color: #666666">=</span>( <span style="color: #666666">15</span>, <span style="color: #666666">15</span>) )
ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">2</span>,<span style="color: #666666">2</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Edge Detection&#39;</span>)

thres <span style="color: #666666">=</span> np<span style="color: #666666">.</span>zeros( edges<span style="color: #666666">.</span>shape )

idx <span style="color: #666666">=</span> edges <span style="color: #666666">&gt;</span> THRESHOLD
<span style="color: #008000">print</span>(<span style="color: #BA2121">&#39;idx&#39;</span>, idx[<span style="color: #666666">0</span>:<span style="color: #666666">10</span>])
thres[idx] <span style="color: #666666">=</span> <span style="color: #666666">1.0</span>

ax1<span style="color: #666666">.</span>imshow(edges, cmap<span style="color: #666666">=</span><span style="color: #BA2121">&quot;gray&quot;</span>)

ax2 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">2</span>,<span style="color: #666666">2</span>,<span style="color: #666666">2</span>)
ax2<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Edge Pixels&#39;</span>)
ax2<span style="color: #666666">.</span>hist(edges)

ax3 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">2</span>,<span style="color: #666666">2</span>,<span style="color: #666666">3</span>)
ax3<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&quot;Threshold Edge Pixels&quot;</span>)
ax3<span style="color: #666666">.</span>imshow( thres, cmap<span style="color: #666666">=</span><span style="color: #BA2121">&quot;gray&quot;</span> )

img_ <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;edges3&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of style="font-size:0.5m" -->
</div><!-- end of jb-input-code jb-render -->

</div>
<div class="jb-print jb-render">
<div style="font-size:0.5m"><!-- start of style="font-size:0.5m" -->
<div class="jb-output jb-render code" style="text-align:center">
<div class="jb-stdout code" style="display:inline-block; width:90%">
<pre style="font-size:0.5m">
idx [[False False False ... False False False]
 [False False False ... False False False]
 [False False False ... False False False]
 ...
 [False False False ... False False False]
 [False False False ... False False False]
 [False False False ... False False False]]
</pre>
</div>
</div>

</div><!-- end of style="font-size:0.5m" -->
</div><!-- end of jb-print jb-render -->

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-2cd03b3f-470b-48b5-a78f-a7a57f9d8220" ><span id="id-2cd03b3f-470b-48b5-a78f-a7a57f9d8220"><img id="img-id-2cd03b3f-470b-48b5-a78f-a7a57f9d8220"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-deeb8756-78b2-4327-b975-13a5d6746eb3" ><span id="id-deeb8756-78b2-4327-b975-13a5d6746eb3"><img id="img-id-deeb8756-78b2-4327-b975-13a5d6746eb3" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00020_frag_00001" data-state="slide_00020_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Edge Detection + Threshold</h1>

<span id="id-9abff03c-15e5-4e1a-a48e-8d330bb46e6b" ><span id="id-9abff03c-15e5-4e1a-a48e-8d330bb46e6b"><img id="img-id-9abff03c-15e5-4e1a-a48e-8d330bb46e6b"     src="assets/images/edges3.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-39b783d4-46bb-45b1-bdf0-690e8f334514" ><span id="id-39b783d4-46bb-45b1-bdf0-690e8f334514"><img id="img-id-39b783d4-46bb-45b1-bdf0-690e8f334514"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-29402738-ddeb-4609-9c22-221eb1e9d2cc" ><span id="id-29402738-ddeb-4609-9c22-221eb1e9d2cc"><img id="img-id-29402738-ddeb-4609-9c22-221eb1e9d2cc" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00021_frag_00001" data-state="slide_00021_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div style="font-size:0.5em"><!-- start of style="font-size:0.5em" -->
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">findHoughLines</span>( idx, thetaBuckets, rhoBuckets, imageHypot ):
  widthHough <span style="color: #666666">=</span> thetaBuckets
  heightHough <span style="color: #666666">=</span> rhoBuckets

  hough <span style="color: #666666">=</span> np<span style="color: #666666">.</span>zeros((heightHough, widthHough))
  <span style="color: #008000; font-weight: bold">for</span> ppi <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(idx[<span style="color: #666666">0</span>])):
    py,px <span style="color: #666666">=</span> idx[<span style="color: #666666">0</span>,ppi], idx[<span style="color: #666666">1</span>,ppi]
    <span style="color: #008000; font-weight: bold">for</span> theta_i, theta <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">enumerate</span>( np<span style="color: #666666">.</span>linspace( <span style="color: #666666">0</span>, <span style="color: #666666">2.0</span> <span style="color: #666666">*</span> math<span style="color: #666666">.</span>pi, widthHough ) ):
      rho <span style="color: #666666">=</span> math<span style="color: #666666">.</span>cos(theta)<span style="color: #666666">*</span>px <span style="color: #666666">+</span> math<span style="color: #666666">.</span>sin(theta)<span style="color: #666666">*</span>py 
      <span style="color: #008000; font-weight: bold">if</span> rho <span style="color: #666666">&gt;</span> <span style="color: #666666">0</span>:
        rho_i <span style="color: #666666">=</span> <span style="color: #008000">int</span>(rho <span style="color: #666666">/</span> imageHypot <span style="color: #666666">*</span> rhoBuckets )
        <span style="color: #408080; font-style: italic">#print(&#39;theta&#39;, theta, &#39;theta_i&#39;, theta_i, &#39;rho&#39;, rho, &#39;rho_i&#39;, rho_i, &#39;imageHypot&#39;, imageHypot )</span>
        hough[rho_i, theta_i] <span style="color: #666666">=</span> hough[rho_i, theta_i] <span style="color: #666666">+</span> <span style="color: #666666">1</span> 
  <span style="color: #008000; font-weight: bold">return</span> hough
</pre></div>

</div><!-- end of style="font-size:0.5em" -->
</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-247bc3a2-35f5-4424-b0c0-e84325b83f12" ><span id="id-247bc3a2-35f5-4424-b0c0-e84325b83f12"><img id="img-id-247bc3a2-35f5-4424-b0c0-e84325b83f12"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-20dc0de0-986d-4d0d-90a6-a46f6d0f0359" ><span id="id-20dc0de0-986d-4d0d-90a6-a46f6d0f0359"><img id="img-id-20dc0de0-986d-4d0d-90a6-a46f6d0f0359" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00022_frag_00001" data-state="slide_00022_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>eidx <span style="color: #666666">=</span> np<span style="color: #666666">.</span>vstack( np<span style="color: #666666">.</span>where( edges <span style="color: #666666">&gt;</span> THRESHOLD ) )

imageHypot <span style="color: #666666">=</span> math<span style="color: #666666">.</span>hypot(thres<span style="color: #666666">.</span>shape[<span style="color: #666666">0</span>], thres<span style="color: #666666">.</span>shape[<span style="color: #666666">1</span>] )
rhoBuckets <span style="color: #666666">=</span> <span style="color: #008000">int</span>(imageHypot)<span style="color: #666666">+1</span>
thetaBuckets <span style="color: #666666">=</span> <span style="color: #666666">180</span>

<span style="color: #408080; font-style: italic">#eidx = np.array([ [ 5, 7, 9], [5, 7, 9 ] ] )</span>
<span style="color: #408080; font-style: italic">#imageHypot = 15</span>
<span style="color: #408080; font-style: italic">#rhoBuckets = 15</span>

h <span style="color: #666666">=</span> findHoughLines( eidx, thetaBuckets, rhoBuckets, imageHypot  )
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-1276127a-64e6-4540-98ed-b9651244e700" ><span id="id-1276127a-64e6-4540-98ed-b9651244e700"><img id="img-id-1276127a-64e6-4540-98ed-b9651244e700"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-7f9eafe0-81c7-4a0e-9480-0c38f3f13194" ><span id="id-7f9eafe0-81c7-4a0e-9480-0c38f3f13194"><img id="img-id-7f9eafe0-81c7-4a0e-9480-0c38f3f13194" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00023_frag_00001" data-state="slide_00023_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">drawHoughSpace</span>(ax, h, imageHypot ):
  height, width <span style="color: #666666">=</span> h<span style="color: #666666">.</span>shape
  <span style="color: #408080; font-style: italic">#xs = np.linspace(0,math.pi * 2, width )</span>
  xs <span style="color: #666666">=</span> np<span style="color: #666666">.</span>linspace(<span style="color: #666666">0</span>,<span style="color: #666666">360.0</span>, width )
  ys <span style="color: #666666">=</span> np<span style="color: #666666">.</span>linspace(<span style="color: #666666">0</span>, imageHypot, height )
  <span style="color: #008000">print</span>( <span style="color: #008000">len</span>(xs), <span style="color: #008000">len</span>(ys) )
  xss, yss <span style="color: #666666">=</span> np<span style="color: #666666">.</span>meshgrid( xs, ys )

  ax<span style="color: #666666">.</span>scatter( xss, yss, <span style="color: #666666">30</span>, c<span style="color: #666666">=</span>h )

  rho_i, theta_i <span style="color: #666666">=</span> np<span style="color: #666666">.</span>unravel_index(np<span style="color: #666666">.</span>argmax(h), h<span style="color: #666666">.</span>shape)
  theta <span style="color: #666666">=</span> xs[theta_i] <span style="color: #408080; font-style: italic"># +(0.5*width) #(theta_i + 0.5)/width * 360.0</span>
  rho <span style="color: #666666">=</span> ys[rho_i] <span style="color: #408080; font-style: italic"># + ( 0.5 * height ) # * imageHypot</span>

  ax<span style="color: #666666">.</span>scatter([theta], [rho], <span style="color: #666666">30</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&#39;red&#39;</span>)
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-edde46e9-7d0c-40fc-841c-94734aa3e49f" ><span id="id-edde46e9-7d0c-40fc-841c-94734aa3e49f"><img id="img-id-edde46e9-7d0c-40fc-841c-94734aa3e49f"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-02684ec7-9751-4fef-8d6f-5ee1a3523dd7" ><span id="id-02684ec7-9751-4fef-8d6f-5ee1a3523dd7"><img id="img-id-02684ec7-9751-4fef-8d6f-5ee1a3523dd7" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00024_frag_00001" data-state="slide_00024_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000">print</span>( img<span style="color: #666666">.</span>shape, h<span style="color: #666666">.</span>shape )
fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure()
ax <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">1</span>,<span style="color: #666666">1</span>)

drawHoughSpace( ax, h, imageHypot )
img_ <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;hough1&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>
<div class="jb-print jb-render">
<div class="jb-output jb-render code" style="text-align:center">
<div class="jb-stdout code" style="display:inline-block; width:90%">
<pre >
(480, 640, 4) (801, 180)
180 801
</pre>
</div>
</div>

</div><!-- end of jb-print jb-render -->

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-c1481c40-8c59-4015-a945-4a957ffa4ffa" ><span id="id-c1481c40-8c59-4015-a945-4a957ffa4ffa"><img id="img-id-c1481c40-8c59-4015-a945-4a957ffa4ffa"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-a00bec1c-1132-4721-a481-61a60891de9f" ><span id="id-a00bec1c-1132-4721-a481-61a60891de9f"><img id="img-id-a00bec1c-1132-4721-a481-61a60891de9f" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00025_frag_00001" data-state="slide_00025_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Hough Space Visualization</h1>

<span id="id-11d8ae08-eb5a-460c-9646-a660d238ca34" ><span id="id-11d8ae08-eb5a-460c-9646-a660d238ca34"><img id="img-id-11d8ae08-eb5a-460c-9646-a660d238ca34"     src="assets/images/hough1.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-c14bbb64-9d00-422c-b5dc-f40ef1e20a2a" ><span id="id-c14bbb64-9d00-422c-b5dc-f40ef1e20a2a"><img id="img-id-c14bbb64-9d00-422c-b5dc-f40ef1e20a2a"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-e86cd81f-657c-492e-a251-c0a4f7e8f623" ><span id="id-e86cd81f-657c-492e-a251-c0a4f7e8f623"><img id="img-id-e86cd81f-657c-492e-a251-c0a4f7e8f623" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00026_frag_00001" data-state="slide_00026_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000">print</span>(np<span style="color: #666666">.</span>max(h))
<span style="color: #008000">print</span>(np<span style="color: #666666">.</span>unravel_index(np<span style="color: #666666">.</span>argmax(h), h<span style="color: #666666">.</span>shape))

rho_i, theta_i <span style="color: #666666">=</span> np<span style="color: #666666">.</span>unravel_index(np<span style="color: #666666">.</span>argmax(h), h<span style="color: #666666">.</span>shape)
theta <span style="color: #666666">=</span> (theta_i <span style="color: #666666">+</span> <span style="color: #666666">0.5</span>)<span style="color: #666666">/</span>thetaBuckets <span style="color: #666666">*</span> <span style="color: #666666">360.0/180.0*</span>math<span style="color: #666666">.</span>pi
rho <span style="color: #666666">=</span> (rho_i <span style="color: #666666">+</span> <span style="color: #666666">0.5</span>) <span style="color: #666666">*</span> imageHypot<span style="color: #666666">/</span>rhoBuckets
<span style="color: #008000">print</span>( <span style="color: #BA2121">f&quot;Found line with equation </span><span style="color: #BB6688; font-weight: bold">{</span>rho<span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> = cos( </span><span style="color: #BB6688; font-weight: bold">{</span>theta<span style="color: #666666">/</span>math<span style="color: #666666">.</span>pi<span style="color: #666666">*180.0</span><span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> ) * x + sin( </span><span style="color: #BB6688; font-weight: bold">{</span>theta<span style="color: #666666">/</span>math<span style="color: #666666">.</span>pi<span style="color: #666666">*180.0</span><span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> ) * y&quot;</span> )
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>
<div class="jb-print jb-render">
<div class="jb-output jb-render code" style="text-align:center">
<div class="jb-stdout code" style="display:inline-block; width:90%">
<pre >
171.0
(193, 44)
Found line with equation 193.25842696629215 = cos( 89.0 ) * x + sin( 89.0 ) * y
</pre>
</div>
</div>

</div><!-- end of jb-print jb-render -->

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-81266de9-8b1e-4de0-8e3f-daeb85fca93f" ><span id="id-81266de9-8b1e-4de0-8e3f-daeb85fca93f"><img id="img-id-81266de9-8b1e-4de0-8e3f-daeb85fca93f"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-0939de4a-46fb-4e8d-8343-82b9c1b6969f" ><span id="id-0939de4a-46fb-4e8d-8343-82b9c1b6969f"><img id="img-id-0939de4a-46fb-4e8d-8343-82b9c1b6969f" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00027_frag_00001" data-state="slide_00027_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">drawLine</span>(ax, rho, theta, size ):
  height, width <span style="color: #666666">=</span> size[<span style="color: #666666">0</span>], size[<span style="color: #666666">1</span>]
  <span style="color: #408080; font-style: italic"># rho = x * cos(theta) + y * sin(theta)</span>
  <span style="color: #408080; font-style: italic"># rho - x * cos(theta)/sin(theta) = y</span>

  c <span style="color: #666666">=</span> math<span style="color: #666666">.</span>cos(theta<span style="color: #666666">+90.0/180.0</span> <span style="color: #666666">*</span> math<span style="color: #666666">.</span>pi)
  s <span style="color: #666666">=</span> math<span style="color: #666666">.</span>sin(theta<span style="color: #666666">+90.0/180.0</span> <span style="color: #666666">*</span> math<span style="color: #666666">.</span>pi)

  <span style="color: #008000; font-weight: bold">if</span> ( <span style="color: #008000">abs</span>( c ) <span style="color: #666666">&gt;</span> <span style="color: #008000">abs</span>( s ) ):
      xMin <span style="color: #666666">=</span> <span style="color: #666666">0</span>
      xMax <span style="color: #666666">=</span> width
      yMin <span style="color: #666666">=</span> rho <span style="color: #666666">-</span> xMin <span style="color: #666666">*</span> <span style="color: #666666">1/</span>math<span style="color: #666666">.</span>tan(theta)
      yMax <span style="color: #666666">=</span> rho <span style="color: #666666">-</span> xMax <span style="color: #666666">*</span> <span style="color: #666666">1/</span>math<span style="color: #666666">.</span>tan(theta)
      col <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;b-&#39;</span>
  <span style="color: #008000; font-weight: bold">else</span>:
      yMin <span style="color: #666666">=</span> <span style="color: #666666">0</span>
      yMax <span style="color: #666666">=</span> height <span style="color: #666666">-</span> <span style="color: #666666">1</span>
      xMin <span style="color: #666666">=</span> rho <span style="color: #666666">-</span> yMin <span style="color: #666666">*</span> math<span style="color: #666666">.</span>tan(theta)
      xMax <span style="color: #666666">=</span> rho <span style="color: #666666">-</span> yMax <span style="color: #666666">*</span> math<span style="color: #666666">.</span>tan(theta)
      col<span style="color: #666666">=</span><span style="color: #BA2121">&#39;g-&#39;</span>

  ax<span style="color: #666666">.</span>plot( [xMin,xMax], [yMin,yMax], col, linewidth<span style="color: #666666">=3</span> ) 
  
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-093f42f3-ebf5-42e9-b546-45a5cb6436cc" ><span id="id-093f42f3-ebf5-42e9-b546-45a5cb6436cc"><img id="img-id-093f42f3-ebf5-42e9-b546-45a5cb6436cc"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-2c5b172a-7d30-4826-b12f-f3a70c9b1466" ><span id="id-2c5b172a-7d30-4826-b12f-f3a70c9b1466"><img id="img-id-2c5b172a-7d30-4826-b12f-f3a70c9b1466" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00028_frag_00001" data-state="slide_00028_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div style="font-size:0.5m"><!-- start of style="font-size:0.5m" -->
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>kernel <span style="color: #666666">=</span> <span style="color: #666666">3</span> <span style="color: #408080; font-style: italic">#@param [&quot;3&quot;, &quot;5&quot;, &quot;7&quot;, &quot;9&quot;, &quot;11&quot;] {type:&quot;raw&quot;}</span>
THRESHOLD <span style="color: #666666">=</span> <span style="color: #666666">0.55</span> <span style="color: #408080; font-style: italic">#@param</span>

img <span style="color: #666666">=</span> io<span style="color: #666666">.</span>imread( url )
img <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>resize(img, (<span style="color: #666666">320</span>, <span style="color: #666666">240</span> ) )[<span style="color: #666666">20</span>:<span style="color: #666666">300</span>,<span style="color: #666666">20</span>:<span style="color: #666666">220</span>]

gray <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>cvtColor( img,  cv2<span style="color: #666666">.</span>COLOR_RGB2GRAY );
<span style="color: #408080; font-style: italic">#gray = gray[20:200,20:300]</span>

<span style="color: #408080; font-style: italic">#gray = np.random.randint(2,size=(10,20), dtype=np.uint8 )*255</span>

gray <span style="color: #666666">=</span> np<span style="color: #666666">.</span>zeros((<span style="color: #666666">20</span>,<span style="color: #666666">30</span>), dtype<span style="color: #666666">=</span>np<span style="color: #666666">.</span>uint8)
<span style="color: #408080; font-style: italic">#gray[4:,:] = 255</span>
gray[:,<span style="color: #666666">26</span>:] <span style="color: #666666">=</span> <span style="color: #666666">255</span>

<span style="color: #408080; font-style: italic">#gray = np.zeros((img.shape), dtype=np.uint8)</span>
<span style="color: #408080; font-style: italic">#gray[50:200,:] = 255</span>

sobelX <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>Sobel( gray, cv2<span style="color: #666666">.</span>CV_32F, <span style="color: #666666">1</span>, <span style="color: #666666">0</span>, ksize<span style="color: #666666">=</span> kernel)
sobelY <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>Sobel( gray, cv2<span style="color: #666666">.</span>CV_32F, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, ksize<span style="color: #666666">=</span> kernel)

edges <span style="color: #666666">=</span> np<span style="color: #666666">.</span>abs(sobelX) <span style="color: #666666">+</span> np<span style="color: #666666">.</span>abs(sobelY)
<span style="color: #408080; font-style: italic">#edges = sobelX + sobelY</span>
edges <span style="color: #666666">=</span> edges <span style="color: #666666">/</span> np<span style="color: #666666">.</span>max(edges)
<span style="color: #008000">print</span>(edges<span style="color: #666666">.</span>shape)

gray<span style="color: #666666">=</span>np<span style="color: #666666">.</span>zeros((<span style="color: #666666">10</span>,<span style="color: #666666">20</span>))
edges <span style="color: #666666">=</span> np<span style="color: #666666">.</span>random<span style="color: #666666">.</span>randint(<span style="color: #666666">2</span>,size<span style="color: #666666">=</span>(<span style="color: #666666">10</span>,<span style="color: #666666">20</span>), dtype<span style="color: #666666">=</span>np<span style="color: #666666">.</span>uint8 )<span style="color: #666666">*255</span>
edges <span style="color: #666666">=</span> edges <span style="color: #666666">*</span> np<span style="color: #666666">.</span>random<span style="color: #666666">.</span>randint(<span style="color: #666666">2</span>,size<span style="color: #666666">=</span>(<span style="color: #666666">10</span>,<span style="color: #666666">20</span>), dtype<span style="color: #666666">=</span>np<span style="color: #666666">.</span>uint8 )<span style="color: #666666">*255</span>
edges <span style="color: #666666">=</span> edges <span style="color: #666666">*</span> np<span style="color: #666666">.</span>random<span style="color: #666666">.</span>randint(<span style="color: #666666">2</span>,size<span style="color: #666666">=</span>(<span style="color: #666666">10</span>,<span style="color: #666666">20</span>), dtype<span style="color: #666666">=</span>np<span style="color: #666666">.</span>uint8 )<span style="color: #666666">*255</span>

<span style="color: #408080; font-style: italic">#edges[:,15] = 1.0</span>
<span style="color: #408080; font-style: italic">#edges[0,:] = 1.0</span>

eidx <span style="color: #666666">=</span> np<span style="color: #666666">.</span>vstack( np<span style="color: #666666">.</span>where( edges <span style="color: #666666">&gt;</span> THRESHOLD ) )
<span style="color: #408080; font-style: italic">#print(eidx)</span>
imageHypot <span style="color: #666666">=</span> math<span style="color: #666666">.</span>hypot(edges<span style="color: #666666">.</span>shape[<span style="color: #666666">0</span>], edges<span style="color: #666666">.</span>shape[<span style="color: #666666">1</span>] )
rhoBuckets <span style="color: #666666">=</span> <span style="color: #008000">int</span>(imageHypot)<span style="color: #666666">+1</span>
thetaBuckets <span style="color: #666666">=</span> <span style="color: #666666">360</span>
<span style="color: #408080; font-style: italic">#print(&quot;imageHypot&quot;, imageHypot, &quot;rhoBuckets&quot;, rhoBuckets )</span>

<span style="color: #408080; font-style: italic">#eidx = np.array([ [ 5, 7, 9], [5, 7, 9 ] ] )</span>
<span style="color: #408080; font-style: italic">#imageHypot = 15</span>
<span style="color: #408080; font-style: italic">#rhoBuckets = 15</span>

h <span style="color: #666666">=</span> findHoughLines( eidx, thetaBuckets, rhoBuckets, imageHypot  )

maxH <span style="color: #666666">=</span> np<span style="color: #666666">.</span>max(h)
rho_i, theta_i <span style="color: #666666">=</span> np<span style="color: #666666">.</span>unravel_index(np<span style="color: #666666">.</span>argmax(h), h<span style="color: #666666">.</span>shape)
theta <span style="color: #666666">=</span> (theta_i <span style="color: #666666">+</span> <span style="color: #666666">0.5</span>)<span style="color: #666666">/</span>thetaBuckets <span style="color: #666666">*</span> <span style="color: #666666">360.0/180.0*</span>math<span style="color: #666666">.</span>pi
rho <span style="color: #666666">=</span> (rho_i <span style="color: #666666">+</span> <span style="color: #666666">0.5</span>) <span style="color: #666666">*</span> imageHypot<span style="color: #666666">/</span>rhoBuckets
<span style="color: #008000">print</span>( <span style="color: #BA2121">f&quot;Found line with </span><span style="color: #BB6688; font-weight: bold">{</span>h[rho_i,theta_i]<span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> points, equation </span><span style="color: #BB6688; font-weight: bold">{</span>rho<span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> = cos( </span><span style="color: #BB6688; font-weight: bold">{</span>theta<span style="color: #666666">/</span>math<span style="color: #666666">.</span>pi<span style="color: #666666">*180.0</span><span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> ) * x + sin( </span><span style="color: #BB6688; font-weight: bold">{</span>theta<span style="color: #666666">/</span>math<span style="color: #666666">.</span>pi<span style="color: #666666">*180.0</span><span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> ) * y&quot;</span> )


fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure( figsize<span style="color: #666666">=</span>( <span style="color: #666666">15</span>, <span style="color: #666666">15</span>) )
ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">2</span>,<span style="color: #666666">1</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Detected Lines&#39;</span>)

<span style="color: #408080; font-style: italic">#print(edges)</span>

ax1<span style="color: #666666">.</span>imshow( gray, cmap<span style="color: #666666">=</span><span style="color: #BA2121">&quot;gray&quot;</span> )
ax1<span style="color: #666666">.</span>scatter(eidx[<span style="color: #666666">1</span>,:]<span style="color: #666666">+0.5</span>, eidx[<span style="color: #666666">0</span>,:]<span style="color: #666666">+0.5</span>, <span style="color: #666666">15</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&#39;red&#39;</span>)

drawLine(ax1, rho, theta, edges<span style="color: #666666">.</span>shape )

ax2 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">2</span>,<span style="color: #666666">1</span>,<span style="color: #666666">2</span>)
ax2<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&quot;Hough Space&quot;</span>)
ax2<span style="color: #666666">.</span>imshow(h)
ax2<span style="color: #666666">.</span>scatter([theta_i], [ rho_i], <span style="color: #666666">30</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&#39;red&#39;</span>)

ht <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;ht&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of style="font-size:0.5m" -->
</div><!-- end of jb-input-code jb-render -->

</div>
<div class="jb-print jb-render">
<div style="font-size:0.5m"><!-- start of style="font-size:0.5m" -->
<div class="jb-output jb-render code" style="text-align:center">
<div class="jb-stdout code" style="display:inline-block; width:90%">
<pre style="font-size:0.5m">
(20, 30)
Found line with 6.0 points, equation 1.4583052027172543 = cos( 132.5 ) * x + sin( 132.5 ) * y
</pre>
</div>
</div>

</div><!-- end of style="font-size:0.5m" -->
</div><!-- end of jb-print jb-render -->

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-ff3f53d8-d73c-4b68-b429-524a73b8d339" ><span id="id-ff3f53d8-d73c-4b68-b429-524a73b8d339"><img id="img-id-ff3f53d8-d73c-4b68-b429-524a73b8d339"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-6c4222a3-88cf-4a07-909d-70f9170f46a0" ><span id="id-6c4222a3-88cf-4a07-909d-70f9170f46a0"><img id="img-id-6c4222a3-88cf-4a07-909d-70f9170f46a0" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00029_frag_00001" data-state="slide_00029_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<div style="background:#a0a0a0">
<span id="id-23016d6c-f5cf-4bf8-be19-2d47dccc3bb4" ><span id="id-23016d6c-f5cf-4bf8-be19-2d47dccc3bb4"><img id="img-id-23016d6c-f5cf-4bf8-be19-2d47dccc3bb4"     src="assets/images/ht.svg"/></span>
</span>

</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-c927eff4-91ae-4fec-8709-52eed8733775" ><span id="id-c927eff4-91ae-4fec-8709-52eed8733775"><img id="img-id-c927eff4-91ae-4fec-8709-52eed8733775"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-61432fcf-74d1-4b83-8ff3-d701f9cd6d90" ><span id="id-61432fcf-74d1-4b83-8ff3-d701f9cd6d90"><img id="img-id-61432fcf-74d1-4b83-8ff3-d701f9cd6d90" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00030_frag_00001" data-state="slide_00030_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Issues Using Hough Lines</h1>

<span id="id-b7c61c33-f3a7-4d31-bfb1-2c930ca9ec63" ><span id="id-b7c61c33-f3a7-4d31-bfb1-2c930ca9ec63"><img id="img-id-b7c61c33-f3a7-4d31-bfb1-2c930ca9ec63"     src="assets/images/prob1.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-281cef14-58c7-4caf-8fac-1a4d030426c7" ><span id="id-281cef14-58c7-4caf-8fac-1a4d030426c7"><img id="img-id-281cef14-58c7-4caf-8fac-1a4d030426c7"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-d633cb02-521e-4cd4-818b-b1c19473937a" ><span id="id-d633cb02-521e-4cd4-818b-b1c19473937a"><img id="img-id-d633cb02-521e-4cd4-818b-b1c19473937a" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00031_frag_00001" data-state="slide_00031_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>edges <span style="color: #666666">=</span> img
eidx <span style="color: #666666">=</span> np<span style="color: #666666">.</span>vstack( np<span style="color: #666666">.</span>where( edges <span style="color: #666666">&gt;</span> THRESHOLD ) )
<span style="color: #408080; font-style: italic">#print(eidx)</span>
imageHypot <span style="color: #666666">=</span> math<span style="color: #666666">.</span>hypot(edges<span style="color: #666666">.</span>shape[<span style="color: #666666">0</span>], edges<span style="color: #666666">.</span>shape[<span style="color: #666666">1</span>] )
rhoBuckets <span style="color: #666666">=</span> <span style="color: #008000">int</span>(imageHypot)<span style="color: #666666">+1</span>
thetaBuckets <span style="color: #666666">=</span> <span style="color: #666666">360</span>
<span style="color: #408080; font-style: italic">#print(&quot;imageHypot&quot;, imageHypot, &quot;rhoBuckets&quot;, rhoBuckets )</span>

<span style="color: #408080; font-style: italic">#eidx = np.array([ [ 5, 7, 9], [5, 7, 9 ] ] )</span>
<span style="color: #408080; font-style: italic">#imageHypot = 15</span>
<span style="color: #408080; font-style: italic">#rhoBuckets = 15</span>

h <span style="color: #666666">=</span> findHoughLines( eidx, thetaBuckets, rhoBuckets, imageHypot  )

maxH <span style="color: #666666">=</span> np<span style="color: #666666">.</span>max(h)
rho_i, theta_i <span style="color: #666666">=</span> np<span style="color: #666666">.</span>unravel_index(np<span style="color: #666666">.</span>argmax(h), h<span style="color: #666666">.</span>shape)
theta <span style="color: #666666">=</span> (theta_i <span style="color: #666666">+</span> <span style="color: #666666">0.5</span>)<span style="color: #666666">/</span>thetaBuckets <span style="color: #666666">*</span> <span style="color: #666666">360.0/180.0*</span>math<span style="color: #666666">.</span>pi
rho <span style="color: #666666">=</span> (rho_i <span style="color: #666666">+</span> <span style="color: #666666">0.5</span>) <span style="color: #666666">*</span> imageHypot<span style="color: #666666">/</span>rhoBuckets
<span style="color: #008000">print</span>( <span style="color: #BA2121">f&quot;Found line with </span><span style="color: #BB6688; font-weight: bold">{</span>h[rho_i,theta_i]<span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> points, equation </span><span style="color: #BB6688; font-weight: bold">{</span>rho<span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> = cos( </span><span style="color: #BB6688; font-weight: bold">{</span>theta<span style="color: #666666">/</span>math<span style="color: #666666">.</span>pi<span style="color: #666666">*180.0</span><span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> ) * x + sin( </span><span style="color: #BB6688; font-weight: bold">{</span>theta<span style="color: #666666">/</span>math<span style="color: #666666">.</span>pi<span style="color: #666666">*180.0</span><span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121"> ) * y&quot;</span> )


fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure( figsize<span style="color: #666666">=</span>( <span style="color: #666666">15</span>, <span style="color: #666666">15</span>) )
ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">2</span>,<span style="color: #666666">1</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Detected Lines&#39;</span>)

<span style="color: #408080; font-style: italic">#print(edges)</span>

ax1<span style="color: #666666">.</span>imshow( gray, cmap<span style="color: #666666">=</span><span style="color: #BA2121">&quot;gray&quot;</span> )
ax1<span style="color: #666666">.</span>scatter(eidx[<span style="color: #666666">1</span>,:], eidx[<span style="color: #666666">0</span>,:], <span style="color: #666666">15</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&#39;red&#39;</span>)

drawLine(ax1, rho, theta, edges<span style="color: #666666">.</span>shape )

ax2 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">2</span>,<span style="color: #666666">1</span>,<span style="color: #666666">2</span>)
ax2<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&quot;Hough Space&quot;</span>)
ax2<span style="color: #666666">.</span>imshow(h)
ax2<span style="color: #666666">.</span>scatter([theta_i], [ rho_i], <span style="color: #666666">30</span>, color<span style="color: #666666">=</span><span style="color: #BA2121">&#39;red&#39;</span>)

ht2 <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;ht2&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>
<div class="jb-print jb-render">
<div class="jb-output jb-render code" style="text-align:center">
<div class="jb-stdout code" style="display:inline-block; width:90%">
<pre >
Found line with 20.0 points, equation 1.4999814359881924 = cos( 90.5 ) * x + sin( 90.5 ) * y
</pre>
</div>
</div>

</div><!-- end of jb-print jb-render -->

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-ce6832d3-3c82-43df-a2a0-b22449f5e4b3" ><span id="id-ce6832d3-3c82-43df-a2a0-b22449f5e4b3"><img id="img-id-ce6832d3-3c82-43df-a2a0-b22449f5e4b3"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-2c37d10a-a4f0-45a2-b801-0acbae236e3d" ><span id="id-2c37d10a-a4f0-45a2-b801-0acbae236e3d"><img id="img-id-2c37d10a-a4f0-45a2-b801-0acbae236e3d" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00032_frag_00001" data-state="slide_00032_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<span id="id-3a8a8708-5955-491f-af88-72fa5ba4d255" ><span id="id-3a8a8708-5955-491f-af88-72fa5ba4d255"><img id="img-id-3a8a8708-5955-491f-af88-72fa5ba4d255"     src="assets/images/ht2.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-bee9c7c3-503a-475c-9572-2c544e996f84" ><span id="id-bee9c7c3-503a-475c-9572-2c544e996f84"><img id="img-id-bee9c7c3-503a-475c-9572-2c544e996f84"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-3de6ef31-21ea-4319-bed4-4e3ca5f2870f" ><span id="id-3de6ef31-21ea-4319-bed4-4e3ca5f2870f"><img id="img-id-3de6ef31-21ea-4319-bed4-4e3ca5f2870f" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00033_frag_00001" data-state="slide_00033_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Incorrect Lines</h1>


<div class="jb-text">

<ul>
<li>
  The problem is that the Hough algorithm will find the line that is supported by the maximum number of pixels.
</li>
<li>
  In the example above, it is the incorrect line
</li>
<li>
  Currrently, the Hough algorithm does not consider the gradient of the edge pixels into consideration
</li>
<li>
  So edge pixels on vertical edges can vote for horizontal lines
</li>
<li>
  We can fix this issue by changing the voting of the pixels
<ul>
<li>
  Restrict votes to what is indicated by the local gradient (pixels detected with Sobel_X cannot vote for horizontal lines)
</li>
<li>
  Weighted voting based on local gradient <code>vote = (1 - diff(local gradient, vote))</code>, where <code>diff</code> is some function between 0 and 1 
</li>
</li>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-499452cb-98a2-4567-9920-11bf4767fadb" ><span id="id-499452cb-98a2-4567-9920-11bf4767fadb"><img id="img-id-499452cb-98a2-4567-9920-11bf4767fadb"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-75caae01-494c-4c9f-b990-6d269c498b70" ><span id="id-75caae01-494c-4c9f-b990-6d269c498b70"><img id="img-id-75caae01-494c-4c9f-b990-6d269c498b70" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00034_frag_00001" data-state="slide_00034_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Multiple Lines</h1>


<div class="jb-text">

<ul>
<li>
  To detect multiple lines, we find the next largest maximum in the accumulator that is not too close
  to the previous maximum
</li>
<li>
  This is not quite correct, but good enough in practice
</li>
<li>
  Correct solution - erase edge pixels and re-run complete Hough transform
  is computationally too expensive
</li>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-80c9f55e-f1ea-4f4f-97e5-c07c91e31e40" ><span id="id-80c9f55e-f1ea-4f4f-97e5-c07c91e31e40"><img id="img-id-80c9f55e-f1ea-4f4f-97e5-c07c91e31e40"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-706d37f9-7b50-4687-b19a-254886db51a4" ><span id="id-706d37f9-7b50-4687-b19a-254886db51a4"><img id="img-id-706d37f9-7b50-4687-b19a-254886db51a4" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00035_frag_00001" data-state="slide_00035_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Line Segments</h1>


<div class="jb-text">

<ul>
<li>
  Usually we are interested in the line segments (start and end of line) instead of infinite length lines
</li>
<li>
  To find the line segment, we start at one end of the line and keep going until we find an edge pixel (or a minimum
  number of edge pixels). This defines the start of the line segment.
</li>
<li>
  Continue along the lines until there are no more edge pixels (or too many missed
  edge pixels). This defines the end of the line segment. 
</li>

<li>
  Continue processing along the line, as there may be multiple line segments that belong to the same line
  equation
</li>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-505af705-b123-48d9-be81-a9abce79bfba" ><span id="id-505af705-b123-48d9-be81-a9abce79bfba"><img id="img-id-505af705-b123-48d9-be81-a9abce79bfba"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-ba151a7e-77d8-4dfa-a191-a26a7a42a7d7" ><span id="id-ba151a7e-77d8-4dfa-a191-a26a7a42a7d7"><img id="img-id-ba151a7e-77d8-4dfa-a191-a26a7a42a7d7" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
        </div>
        </div>

        <script src="js/reveal.js"></script>

        <script>
            // More info about config & dependencies:
            // - https://github.com/hakimel/reveal.js#configuration
            // - https://github.com/hakimel/reveal.js#dependencies
            Reveal.initialize({
                math: {
                    mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
                    config: 'TeX-AMS_HTML-full',  // See http://docs.mathjax.org/en/latest/config-files.html
                    // tex2jax: {
                    //     inlineMath: [['$', '$'], ['\(', '\)']],
                    //     displayMath: [['$$', '$$'], ['\[', '\]']],
                    //     processEscapes: true,
                    //     processEnvironments: true,
                    //     skipTags: ['script', 'noscript', 'style', 'textarea', 'code', 'pre'],
                    //     displayAlign: 'center',
                    // }                
                },
                dependencies: [
                    { src: 'plugin/markdown/marked.js' },
                    { src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/math/math.js', async: true }
                ]
            });
        </script>

        <script>
            <!-- Assets -->
var assets = {
"robbi" : new JBImage( "robbi", "12677", "162", "138", null, null, "assets/images/robbi", "png" ),
"logo" : new JBImage( "logo", "12033", "0", "0", null, null, "assets/images/logo", "png" ),
"fira-logo-1" : new JBImage( "fira-logo-1", "93836", "0", "0", null, null, "assets/images/FIRA-logo-1", "png" ),
"pairLogo" : new JBImage( "pairLogo", "63051", "0", "0", null, null, "assets/images/pairLogo", "png" ),
"orig" : new JBImage( "orig", "1368999", "0", "0", null, null, "assets/images/orig", "svg" ),
"edge" : new JBImage( "edge", "731429", "0", "0", null, null, "assets/images/edge", "svg" ),
"h1" : new JBImage( "h1", "38845", "0", "0", null, null, "assets/images/h1", "svg" ),
"h2" : new JBImage( "h2", "47993", "0", "0", null, null, "assets/images/h2", "svg" ),
"r1" : new JBImage( "r1", "7954", "0", "0", null, null, "assets/images/r1", "svg" ),
"edges3" : new JBImage( "edges3", "2821273", "0", "0", null, null, "assets/images/edges3", "svg" ),
"hough1" : new JBImage( "hough1", "22366273", "0", "0", null, null, "assets/images/hough1", "svg" ),
"ht" : new JBImage( "ht", "55371", "0", "0", null, null, "assets/images/ht", "svg" ),
"prob1" : new JBImage( "prob1", "11004", "0", "0", null, null, "assets/images/prob1", "svg" ),
"ht2" : new JBImage( "ht2", "108547", "0", "0", null, null, "assets/images/ht2", "svg" ) 
};
var assetInstances = {
    "id-b65e6b40-a58a-4f90-9f26-582839539880": assets["robbi"],
    "id-b7254133-908d-40f0-bbd5-447f0a2d4b78": assets["robbi"],
    "id-ed7ec3e8-cd21-46dd-bd87-b66d9ffea4e5": assets["robbi"],
    "id-b91e7c05-2409-4432-9900-dab09bfb5cb2": assets["robbi"],
    "id-3fe7fa5d-597e-41dc-8487-c2baa950e203": assets["robbi"],
    "id-85d59de3-61a2-4ece-a9b0-595d41464634": assets["robbi"],
    "id-31f2c89f-3cbf-49a7-87a7-c4c1687f1906": assets["robbi"],
    "id-703e0121-59d0-40e3-ace8-463099cd91e9": assets["robbi"],
    "id-0aecac61-e639-4588-b36b-0eaee190b966": assets["robbi"],
    "id-67206728-4074-46b4-a167-03d38b95f71b": assets["robbi"],
    "id-d2a71096-6453-49d6-8eaf-667a2bfae9b6": assets["robbi"],
    "id-b373ff43-0a6e-431d-872b-6e589f145a1d": assets["robbi"],
    "id-06fdf18d-01bf-4c29-8510-d0dd1daf525b": assets["robbi"],
    "id-0e5c2146-eb86-410e-8923-d03ff6acfbdb": assets["robbi"],
    "id-ec414373-f2a5-435c-84fa-69fecc84d0a4": assets["robbi"],
    "id-03a08af6-94ec-41f4-b250-8497985c4cfb": assets["robbi"],
    "id-32c2a084-561c-45d6-b593-e41948fc3734": assets["robbi"],
    "id-deeb8756-78b2-4327-b975-13a5d6746eb3": assets["robbi"],
    "id-29402738-ddeb-4609-9c22-221eb1e9d2cc": assets["robbi"],
    "id-20dc0de0-986d-4d0d-90a6-a46f6d0f0359": assets["robbi"],
    "id-7f9eafe0-81c7-4a0e-9480-0c38f3f13194": assets["robbi"],
    "id-02684ec7-9751-4fef-8d6f-5ee1a3523dd7": assets["robbi"],
    "id-a00bec1c-1132-4721-a481-61a60891de9f": assets["robbi"],
    "id-e86cd81f-657c-492e-a251-c0a4f7e8f623": assets["robbi"],
    "id-0939de4a-46fb-4e8d-8343-82b9c1b6969f": assets["robbi"],
    "id-2c5b172a-7d30-4826-b12f-f3a70c9b1466": assets["robbi"],
    "id-6c4222a3-88cf-4a07-909d-70f9170f46a0": assets["robbi"],
    "id-61432fcf-74d1-4b83-8ff3-d701f9cd6d90": assets["robbi"],
    "id-d633cb02-521e-4cd4-818b-b1c19473937a": assets["robbi"],
    "id-2c37d10a-a4f0-45a2-b801-0acbae236e3d": assets["robbi"],
    "id-3de6ef31-21ea-4319-bed4-4e3ca5f2870f": assets["robbi"],
    "id-75caae01-494c-4c9f-b990-6d269c498b70": assets["robbi"],
    "id-706d37f9-7b50-4687-b19a-254886db51a4": assets["robbi"],
    "id-ba151a7e-77d8-4dfa-a191-a26a7a42a7d7": assets["robbi"],
    "id-d3d39bac-5ab8-429f-9cbf-5167245aab90": assets["logo"],
    "id-8b469032-3903-4ab5-beae-01ec49b67c2c": assets["logo"],
    "id-2d24a4e6-b610-45d6-92e1-3cd889eadfe5": assets["logo"],
    "id-88f62701-a368-4cb0-b06e-cb7940808682": assets["logo"],
    "id-d5554560-a9df-4bc7-b252-8aba2a742310": assets["logo"],
    "id-5acb1196-d52f-4152-af6f-6e0e20b7d476": assets["logo"],
    "id-6b9cd93e-aaa1-4e30-b427-90253702ae4a": assets["logo"],
    "id-cc7189ee-406a-4cd5-8e28-0d8c1f48b831": assets["logo"],
    "id-83fe5eeb-a0a1-429a-ac3f-fa169908528a": assets["logo"],
    "id-37879be6-b7f1-4bf8-a97f-1e4f15dac4ca": assets["logo"],
    "id-5bd3fc12-02fa-476e-ac7c-21b415070091": assets["logo"],
    "id-99b49efe-dfca-44a1-b684-6728c168739d": assets["logo"],
    "id-d4a0feec-0f6d-4c7c-bf8d-d02106526c11": assets["logo"],
    "id-a0c85bd2-7e53-46b8-b785-0815f340bac6": assets["logo"],
    "id-c61b70b0-94d9-4b5a-b592-60f9717f9c20": assets["logo"],
    "id-73040573-aee9-46d4-9b28-1aaabfaa081c": assets["logo"],
    "id-eb639659-253e-4d40-b29a-601a1aee95b5": assets["logo"],
    "id-2cd03b3f-470b-48b5-a78f-a7a57f9d8220": assets["logo"],
    "id-39b783d4-46bb-45b1-bdf0-690e8f334514": assets["logo"],
    "id-247bc3a2-35f5-4424-b0c0-e84325b83f12": assets["logo"],
    "id-1276127a-64e6-4540-98ed-b9651244e700": assets["logo"],
    "id-edde46e9-7d0c-40fc-841c-94734aa3e49f": assets["logo"],
    "id-c1481c40-8c59-4015-a945-4a957ffa4ffa": assets["logo"],
    "id-c14bbb64-9d00-422c-b5dc-f40ef1e20a2a": assets["logo"],
    "id-81266de9-8b1e-4de0-8e3f-daeb85fca93f": assets["logo"],
    "id-093f42f3-ebf5-42e9-b546-45a5cb6436cc": assets["logo"],
    "id-ff3f53d8-d73c-4b68-b429-524a73b8d339": assets["logo"],
    "id-c927eff4-91ae-4fec-8709-52eed8733775": assets["logo"],
    "id-281cef14-58c7-4caf-8fac-1a4d030426c7": assets["logo"],
    "id-ce6832d3-3c82-43df-a2a0-b22449f5e4b3": assets["logo"],
    "id-bee9c7c3-503a-475c-9572-2c544e996f84": assets["logo"],
    "id-499452cb-98a2-4567-9920-11bf4767fadb": assets["logo"],
    "id-80c9f55e-f1ea-4f4f-97e5-c07c91e31e40": assets["logo"],
    "id-505af705-b123-48d9-be81-a9abce79bfba": assets["logo"],
    "id-e2059865-07d3-4fa3-83b3-7b7c3ca1f97d": assets["orig"],
    "id-b3f71463-ac68-4cc1-883c-a2e4212069be": assets["edge"],
    "id-fea8e941-e689-4ec8-99c0-e4a9c27dec9d": assets["h1"],
    "id-5d5b0860-f0e5-4b00-bd95-c6e43a17aec3": assets["h2"],
    "id-3f53ca82-f47b-41c3-8292-0065f01b302e": assets["r1"],
    "id-9abff03c-15e5-4e1a-a48e-8d330bb46e6b": assets["edges3"],
    "id-11d8ae08-eb5a-460c-9646-a660d238ca34": assets["hough1"],
    "id-23016d6c-f5cf-4bf8-be19-2d47dccc3bb4": assets["ht"],
    "id-b7c61c33-f3a7-4d31-bfb1-2c930ca9ec63": assets["prob1"],
    "id-3a8a8708-5955-491f-af88-72fa5ba4d255": assets["ht2"]
};
<!-- End of Assets -->

            convertURLs(assetInstances, "smart-path");
        </script>
        <script>
            <!-- Characters -->
var characters =
{};
<!-- End of Characters -->

        </script>
    </body>
</html>